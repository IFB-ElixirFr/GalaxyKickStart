<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Use Case 3-1 - GalaxyKickstarter</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Use Case 3-1";
    var mkdocs_page_input_path = "use_case_3-1.md";
    var mkdocs_page_url = "/use_case_3-1/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> GalaxyKickstarter</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../about/">What is GalaxyKickstarter</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../getting_started/">Getting started</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../customizations/">Customizations</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installing tools and workflows/">Installing tools and workflows</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Examples</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/docker/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/vagrant/">Vagrant</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../faq/">Frequently asked questions</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../available_roles/">Available roles</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../available_variables/">Available variables</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../editing_help/">Editing the readme</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Metavisitor</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../about_metavisitor/">About metavisitor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_ansible/">Installing with GalaxyKickstarter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_docker/">Installing with Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_access_control/">Access and Control Metavisitor Galaxy instance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_configure_references/">Prepare Metavisitor Galaxy instance for analyses</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_cases_input_data/">Prepare input data histories</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_1/">Use Cases 1-1 to 1-4</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_2/">Use Cases 2-1 and 2-2</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Use Case 3-1</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#input-data-for-use-case-3-1">Input data for Use Case 3-1</a></li>
                
            
                <li class="toctree-l3"><a href="#history-for-use-case-3-1">History for Use Case 3-1</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_3-2/">Use Case 3-2</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_3-3/">Use Case 3-3</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../development/">Development</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">GalaxyKickstarter</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Metavisitor &raquo;</li>
        
      
    
    <li>Use Case 3-1</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Now that you get more familiar with manipulations in Galaxy with the Use Cases 1-1 to 1-4 described in details in the previous chapters, we will describe the other Use Case analyses more concisely. If you experience lack of skills in basic Galaxy operations (tool usage, copy of datasets, etc), do not hesitate to go back and examine the <a href="../use_cases_input_data">previous chapters</a> step by step.</p>
<h2 id="input-data-for-use-case-3-1">Input data for Use Case 3-1</h2>
<p>As for the previous Use Cases 1 and 2, the first step is to collect all input data in an history that we will name <code>Input data for Use Case 3-1</code>. </p>
<ol>
<li>Create a new history</li>
<li>Rename this history <code>Input data for Use Case 3-1</code></li>
<li>
<p>We are going to upload 40 datasets for the EBI ENA SRP068722. This is a bit tedious, but you follow the instructions bellow, it is not difficult.</p>
<ul>
<li>Use the tool <code>Extract reads in FASTQ/A format from NCBI SRA</code>, fill the SRR accession field with the first EBI SRA identifier <strong>SRR3111582</strong> and let the <code>output format</code> selected as fastq. Click the <code>Execute</code> button.</li>
<li>Now that the tool has started to run, you can click on the dataset in order to expand the information. Then click on the rerun icon (two curved arrows, when the mouse pass over the icon you can see the info "Run this job again" popping up). The only thing you have to do is to edit the SRR accession field from <strong>SRR3111582</strong> to <strong>SRR3111583</strong>, and press the  <code>Execute</code> button.</li>
<li>Just repeat this operation with all the datasets we want to upload. Here is the full list of the SRR identifiers for the 40 datasets we will upload. Note that these identifiers increment by 1 from <strong>SRR3111582</strong> to <strong>SRR3111622</strong> with <em>one exception</em>: we go directly from <strong>SRR3111614</strong> to <strong>SRR3111614</strong>.</li>
</ul>
<p><code>SRR3111582
SRR3111583
SRR3111584
SRR3111585
SRR3111586
SRR3111587
SRR3111588
SRR3111589
SRR3111590
SRR3111591
SRR3111592
SRR3111593
SRR3111594
SRR3111595
SRR3111596
SRR3111597
SRR3111598
SRR3111599
SRR3111600
SRR3111601
SRR3111602
SRR3111603
SRR3111604
SRR3111605
SRR3111606
SRR3111607
SRR3111608
SRR3111609
SRR3111610
SRR3111611
SRR3111612
SRR3111613
SRR3111614
SRR3111616
SRR3111617
SRR3111618
SRR3111619
SRR3111620
SRR3111621
SRR3111622</code></p>
</li>
<li>
<p>For each of the 40 imported datasets, click the pencil icon, and change the datatype to <code>fastqsanger</code>. Be systematic, do it for all datasets 1 to 40.</p>
</li>
<li>Click on the checked box icon in the history top menu, check all 40 datasets (<code>All</code> button), and <code>For all selected</code>, <code>Build a dataset list</code> that you name "SRP068722".</li>
<li>Copy the <code>vir1 nucleotide BLAST database</code> from the <code>References</code> history to the current history <code>Input data for Use Case 3-1</code>.</li>
<li>Now we still have to associate sequencing dataset coming from a same patient. We are going to use the tool <code>Concatenate multiple datasets</code> to merge multiple datasets in a same fastq file.<ul>
<li>For patient 0450-318, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111582 to SRR3111587. Run the tool and rename the dataset "patient 0450-318"</li>
<li>For patient 0387-272, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111588 to SRR3111593. Run the tool and rename the dataset "patient 0387-272"</li>
<li>For patient 0629-453, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111594 to SRR3111599. Run the tool and rename the dataset "patient 0629-453"</li>
<li>For patient 0444-312, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111600 to SRR3111603. Run the tool and rename the dataset "patient 0444-312"</li>
<li>For patient 0500-355neg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111604 and SRR3111605. Run the tool and rename the dataset "patient 0500-355neg"</li>
<li>For patient 0292-xxxneg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111606 and SRR3111607. Run the tool and rename the dataset "patient 0292-xxxneg"</li>
<li>For patient 0394-274, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111608 and SRR3111609. Run the tool and rename the dataset "patient 0394-274"</li>
<li>For patient 0218-162neg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111610 and SRR3111611. Run the tool and rename the dataset "patient 0218-162neg"</li>
<li>For patient 0311-217HIVneg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111612 and SRR3111613. Run the tool and rename the dataset "patient 0311-217HIVneg"</li>
<li>For patient 0440-307neg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111614 and SRR3111616. Run the tool and rename the dataset "patient 0440-307neg"</li>
<li>For patient 0518-370neg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111617 and SRR3111618. Run the tool and rename the dataset "patient 0518-370neg"</li>
<li>For patient 0560-420neg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111619 and SRR3111620. Run the tool and rename the dataset "patient 0560-420neg"</li>
<li>For patient 0575-419neg, use <code>Concatenate multiple datasets</code> and select the datasets SRR3111621 and SRR3111622. Run the tool and rename the dataset "patient 0575-419neg"</li>
</ul>
</li>
<li>The last action to perform in this history is to create a dataset collection of patient datasets: Click on the checked box icon in the history top menu, check the "patient... " datasets we have just generated by concatenation (13 datasets), and <code>For all selected</code>, <code>Build a dataset list</code> that you name "patient collection".</li>
<li>We are done.</li>
</ol>
<h2 id="history-for-use-case-3-1">History for Use Case 3-1</h2>
<ol>
<li>Stay in the history <code>Input data for Use Case 3-1</code></li>
<li>pick the workflow <code>Metavisitor: Workflow for Use Case 3-1</code> in the workflows menu, and select the <code>run</code> option.</li>
<li>For Step 1 (Fever Patient Sequences collection), select <code>patient collection</code> (this should be already selected).</li>
<li>For Step 2, select the <code>nucleotide vir1 blast database</code> (this should also be already selected)</li>
<li>As usual, check the box <code>Send results to a new history</code>, edit the name of the new history to <code>History for Use Case 3-1</code>, and <code>Execute</code> the workflow ! Note, that for complex workflows with dataset collections in input, the actual warning that the workflow is started make take time to show up.</li>
</ol>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../use_case_3-2/" class="btn btn-neutral float-right" title="Use Case 3-2">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../use_case_2/" class="btn btn-neutral" title="Use Cases 2-1 and 2-2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../use_case_2/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../use_case_3-2/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Use Case 3-2 - GalaxyKickstarter</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Use Case 3-2";
    var mkdocs_page_input_path = "use_case_3-2.md";
    var mkdocs_page_url = "/use_case_3-2/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> GalaxyKickstarter</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../about/">What is GalaxyKickstarter</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../getting_started/">Getting started</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../customizations/">Customizations</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installing tools and workflows/">Installing tools and workflows</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Examples</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/docker/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../examples/vagrant/">Vagrant</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../faq/">Frequently asked questions</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../available_roles/">Available roles</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../available_variables/">Available variables</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../editing_help/">Editing the readme</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Metavisitor</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../about_metavisitor/">About metavisitor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_ansible/">Installing with GalaxyKickstarter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_docker/">Installing with Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_access_control/">Access and Control Metavisitor Galaxy instance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../metavisitor_configure_references/">Prepare Metavisitor Galaxy instance for analyses</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_cases_input_data/">Prepare input data histories</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_1/">Use Cases 1-1 to 1-4</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_2/">Use Cases 2-1 and 2-2</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../use_case_3-1/">Use Case 3-1</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Use Case 3-2</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#input-data-for-use-case-3-2">Input data for Use Case 3-2</a></li>
                
            
                <li class="toctree-l3"><a href="#history-for-use-case-3-2">History for Use Case 3-2</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../development/">Development</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">GalaxyKickstarter</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Metavisitor &raquo;</li>
        
      
    
    <li>Use Case 3-2</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="input-data-for-use-case-3-2">Input data for Use Case 3-2</h2>
<p>As for the previous Use Cases 1, 2 and 3-1, the first step is to collect all input data in an history that we will name <code>Input data for Use Case 3-2</code>. </p>
<ul>
<li>Create a new history</li>
<li>Rename this history <code>Input data for Use Case 3-1</code></li>
<li>Using the tool <code>Extract reads in FASTQ/A format from NCBI SRA</code>, we are going to upload 42 paired end datasets. Indeed, these 42 datasets correspond to 84 fastq paired-ended sequence files. However, the <code>Extract reads in FASTQ/A format from NCBI SRA</code> directly merges two paired-end fastq datasets in a single file. In addition, some datasets derive from the same patient; in those cases we will merge those datasets using the tool <code>Concatenate multiple datasets tail-to-head</code> and delete and purge the original datasets. In all cases, we will rename the dataset with the patient id as indicated bellow, and change the datatype from fastq to fastqsanger.
Here is a table that recapitulates the actions to perform, line by line.</li>
</ul>
<pre><code>#ENA-RUN            action                                              post-action
SRR453487           |rename &quot;patient 566&quot;                               |change datatype to &quot;fastq&quot;
SRR453437           |rename &quot;patient 438&quot;                               |change datatype to &quot;fastq&quot;
SRR453443,SRR453458 |concatenate, rename merge dataset  &quot;patient 401&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453430           |rename &quot;patient 382&quot;                               |change datatype to &quot;fastq&quot;
SRR453491           |rename &quot;patient 377&quot;                               |change datatype to &quot;fastq&quot;
SRR453499           |rename &quot;patient 375&quot;                               |change datatype to &quot;fastq&quot;
SRR453484           |rename &quot;patient 350&quot;                               |change datatype to &quot;fastq&quot;
SRR453464           |rename &quot;patient 349&quot;                               |change datatype to &quot;fastq&quot;
SRR453506           |rename &quot;patient 345&quot;                               |change datatype to &quot;fastq&quot;
SRR453417           |rename &quot;patient 344&quot;                               |change datatype to &quot;fastq&quot;
SRR453490           |rename &quot;patient 335&quot;                               |change datatype to &quot;fastq&quot;
SRR453478           |rename &quot;patient 331&quot;                               |change datatype to &quot;fastq&quot;
SRR453465,SRR453480 |concatenate, rename merge dataset  &quot;patient 330&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453489,SRR453505 |concatenate, rename merge dataset  &quot;patient 329&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453498           |rename &quot;patient 322&quot;                               |change datatype to &quot;fastq&quot;
SRR453446           |rename &quot;patient 321&quot;                               |change datatype to &quot;fastq&quot;
SRR453427,SRR453440 |concatenate, rename merge dataset  &quot;patient 315&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453438           |rename &quot;patient 282&quot;                               |change datatype to &quot;fastq&quot;
SRR453450           |rename &quot;patient 275&quot;                               |change datatype to &quot;fastq&quot;
SRR453460           |rename &quot;patient 274&quot;                               |change datatype to &quot;fastq&quot;
SRR453485           |rename &quot;patient 270&quot;                               |change datatype to &quot;fastq&quot;
SRR453448           |rename &quot;patient 266&quot;                               |change datatype to &quot;fastq&quot;
SRR453424,SRR453457 |concatenate, rename merge dataset  &quot;patient 263&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453510           |rename &quot;patient 193&quot;                               |change datatype to &quot;fastq&quot;
SRR453456           |rename &quot;patient 187&quot;                               |change datatype to &quot;fastq&quot;
SRR453425,SRR453469 |concatenate, rename merge dataset  &quot;patient 186&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453481           |rename &quot;patient 183&quot;                               |change datatype to &quot;fastq&quot;
SRR453531           |rename &quot;patient 180&quot;                               |change datatype to &quot;fastq&quot;
SRR453474           |rename &quot;patient 179&quot;                               |change datatype to &quot;fastq&quot;
SRR453509           |rename &quot;patient 171&quot;                               |change datatype to &quot;fastq&quot;
SRR453451           |rename &quot;patient 168&quot;                               |change datatype to &quot;fastq&quot;
SRR453495,SRR453504 |concatenate, rename merge dataset  &quot;patient 161&quot;   |change the merged dataset to datatype to &quot;fastq&quot;, and delete and purge the original SRR datasets
SRR453500           |rename &quot;patient 159&quot;                               |change datatype to &quot;fastq&quot;
SRR453493           |rename &quot;patient 156&quot;                               |change datatype to &quot;fastq&quot;
SRR453444           |rename &quot;patient 131&quot;                               |change datatype to &quot;fastq&quot;
SRR453426           |rename &quot;patient 78                                 |change datatype to &quot;fastq&quot;
</code></pre>

<ul>
<li>Create a dataset collection of patient datasets: Click on the checked box icon in the history top menu, check the "patient... " datasets we have just generated (36 datasets) (you can use the <code>Select all</code> button), and <code>For all selected</code>, <code>Build a dataset list</code> that you name "Tractable Patient Datasets".</li>
<li>Copy the <code>vir1 nucleotide BLAST database</code> from the <code>References</code> history to the current history <code>Input data for Use Case 3-2</code>.</li>
</ul>
<h2 id="history-for-use-case-3-2">History for Use Case 3-2</h2>
<ol>
<li>Stay in the history <code>Input data for Use Case 3-2</code></li>
<li>pick the workflow <code>Metavisitor: Workflow for Use Case 3-2</code> in the workflows menu, and select the <code>run</code> option.</li>
<li>For Step 1 (Fever Patient Sequences collection), select <code>Tractable Patient Datasets</code> (this should be already selected).</li>
<li>For Step 2, select the <code>nucleotide vir1 blast database</code> (this should also be already selected)</li>
<li>As usual, check the box <code>Send results to a new history</code>, edit the name of the new history to <code>History for Use Case 3-2</code>, and <code>Execute</code> the workflow ! Note, that for complex workflows with dataset collections in input, the actual warning that the workflow is started make take time to show up; you can even have a "504 Gateway Time-out" warning. This is not a serious issue: just go in your <code>User</code> -&gt; <code>Saved history</code> menu, you will see you <code>History for Use Case 3-2</code> running and you will be able to access it.</li>
</ol>
<p>As a last note, the workflow for Use Case 3-2 may take a long time. Be patient.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../development/" class="btn btn-neutral float-right" title="Development">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../use_case_3-1/" class="btn btn-neutral" title="Use Case 3-1"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../use_case_3-1/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../development/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
